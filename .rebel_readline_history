1585101919814::cljs/quit
1585102526727:(start-autobuild)
1585274764426:(def cards [{:name "colonizer training camp", :id 1, :tags [{:name "building tag", :value "jove"} {:name "building tag", :value "building"} {:name "type", :value "automated"} {:name "vps", :value 2}], :cost 8} {:name "asteroid mining consortium", :id 2, :tags [{:name "building tag", :value "jove"} {:name "vps", :value 1} {:name "type", :value "automated"}], :cost 13} {:name "deep well heating", :id 3, :tags [{:name "building tag", :value "power"} {:name "building tag", :value "building"} {:name "type", :value "automated"}], :cost 13} {:name "cloud seeding", :id 4, :tags [], :cost 11} {:name "search for life", :id 5, :tags [{:name "building tag", :value "science"} {:name "type", :value "active"} {:name "action", :value true}], :cost 3} {:name "inventors guild", :id 6, :tags [{:name "building tag", :value "science"} {:name "action", :value "true"} {:name "type", :value "active"}], :cost 9} {:name "martian rails", :id 7, :tags [{:name "building tag", :value "building"} {:name "action", :value "true"} {:name "type", :value "active"}], :cost 13} {:name "capital", :id 8, :tags [{:name "building tag", :value "city"} {:name "building tag", :value "building"} {:name "type", :value "automated"}], :cost 26} {:name "asteroid", :id 9, :tags [{:name "building tag", :value "event"} {:name "building tag", :value "space"} {:name "type", :value "event"}], :cost 14} {:name "comet", :id 10, :tags [{:name "building tag", :value "event"} {:name "building tag", :value "space"} {:name "type", :value "event"}], :cost 21} {:name "big asteroid", :id 11, :tags [{:name "building tag", :value "event"} {:name "building tag", :value "space"} {:name "type", :value "event"}], :cost 27} {:name "water import from europa", :id 12, :tags [{:name "building tag", :value "jove"} {:name "type", :value "active"} {:name "action", :value true} {:name "vps", :value "*"}], :cost 27} {:name "release of inert gases", :id 36, :tags [{:name "building tag", :value "event"} {:name "raises TR", :value 2} {:name "type", :value "event"}], :cost 17}]\n[{:category "type", :value "automated"}])
1585274781876:cards
1585274818330:(def cards {:cards {:card-list [{:name "colonizer training camp"\n                         :id 1\n                         :tags [{:name "building tag" :value "jove"}\n                                {:name "building tag" :value "building"}\n                                {:name "type" :value "automated"}\n                                {:name "vps" :value 2}]\n                         :cost 8}\n                        {:name "asteroid mining consortium"\n                         :id 2\n                         :tags [{:name "building tag" :value "jove"}\n                                {:name "vps" :value 1}\n                                {:name "type" :value "automated"}]\n                         :cost 13}\n                        {:name "deep well heating"\n                         :id 3\n                         :tags [{:name "building tag" :value "power"}\n                                {:name "building tag" :value "building"}\n                                {:name "type" :value "automated"}]\n                         :cost 13}\n                        {:name "cloud seeding"\n                         :id 4\n                         :tags []\n                         :cost 11}\n                        {:name "search for life"\n                         :id 5\n                         :tags [{:name "building tag" :value "science"}\n                                {:name "type" :value "active"}\n                                {:name "action" :value true}]\n                         :cost 3}\n                        {:name "inventors guild"\n                         :id 6\n                         :tags [{:name "building tag" :value "science"}\n                                {:name "action" :value "true"}\n                                {:name "type" :value "active"}]\n                         :cost 9}\n                        {:name "martian rails"\n                         :id 7\n                         :tags [{:name "building tag" :value "building"}\n                                {:name "action" :value "true"}\n                                {:name "type" :value "active"}]\n                         :cost 13}\n                        {:name "capital"\n                         :id 8\n                         :tags [{:name "building tag" :value "city"}\n                                {:name "building tag" :value "building"}\n                                {:name "type" :value "automated"}]\n                         :cost 26}\n                        {:name "asteroid"\n                         :id 9\n                         :tags [{:name "building tag" :value "event"}\n                                {:name "building tag" :value "space"}\n                                {:name "type" :value "event"}]\n                         :cost 14}\n                        {:name "comet"\n                         :id 10\n                         :tags [{:name "building tag" :value "event"}\n                                {:name "building tag" :value "space"}\n                                {:name "type" :value "event"}]\n                         :cost 21}\n                        {:name "big asteroid"\n                         :id 11\n                         :tags [{:name "building tag" :value "event"}\n                                {:name "building tag" :value "space"}\n                                {:name "type" :value "event"}]\n                         :cost 27}\n                        {:name "water import from europa"\n                         :id 12\n                         :tags [{:name "building tag" :value "jove"}\n                                {:name "type" :value "active"}\n                                {:name "action" :value true}\n                                {:name "vps" :value "*"}]\n                         :cost 27}})
1585274832689:(def card {:name\n                         "release of inert gases"\n                         :id 36\n                         :tags [{:name "building tag" :value "event"}\n                                {:name "raises TR" :value 2}\n                                {:name "type" :value "event"}]\n                         :cost 17})
1585274834309:card
1585274870537:(def filter {:category {:tag "type" :value "automated"}})
1585274939742:(def card {:name "release of inert gases",\n :id 36,\n :tags\n [{:name "building tag", :value "event"}\n  {:name "raises TR", :value 2}\n  {:name "type", :value "event"}], \n :cost 17}\n)
1585274956206:(def my-filter {:category {:tag "type" :value "automated"}})
1585274974306:(def tags (:tags card))
1585274975699:tags
1585275015334:(some #(= (:tag %) "automated") tags)
1585275028109:(some #(= (:tag %) "event") tags)
1585275534128:(some #(= (:tag%) "event") tags)
1585275535636:tags
1585275546634:(some #(= (:name\n           %) "event") tags)
1585275559683:(some #(= (:value\n           \n           %) "event") tags)
1585275616415:(some #((and (= (:value %) "event") (= (:name %) "type")) tags)\n      )
1585275626070:(some #((and (= (:value %) "event") (= (:name %) "type"))) tags)
1585275645623:(some #(and (= (:value %) "event") (= (:name %) "type")) tags)
1585275654825:(some #(and (= (:value %) "automated") (= (:name %) "type")) tags)
1585275714953:(some (fn [{:keys [value name]}] (and (= value "event") (= name "type"))) keys)
1585275742390:(some (fn [{:keys [value name]}] (and (= value "event") (= name "type"))) tags\n      )
1585275902967:(defn make-filter-func [{:keys [category]}]\n  (cond\n    category (let [{:keys [tag cat-value] category}]\n               (fn [{tags :tags}]\n                 (some (fn [{:keys [name tag-value]}]\n                         (and (= name tag) (= cat-value tag-value)))\n                       tags)))))
1585275968926:(defn make-filter-func [{:keys [category]}]\n  (cond\n    category (let [{:keys [tag cat-value]} category]\n               (fn [{tags :tags}]\n                 (some (fn [{:keys [name tag-value]}]\n                         (and (= name tag) (= cat-value tag-value)))\n                       tags)))))
1585275977396:(make-filter-func my-filter)
1585275985332:(def my-func *1)
1585275998859:(filter my-func tags)
1585276004002:tags
1585276162231:(defn make-filter-func [{:keys [category]}]\n  (prn category)\n  (cond\n    category (let [{tag :tag cat-value :value} category]\n               (prn tag)\n               (prn cat-value)\n               (fn [{tags :tags}]\n                 (some (fn [{name :name tag-value :value}]\n                         (prn name)\n                         (prn tag-value)\n                         (and (= name tag) (= cat-value tag-value)))\n                       tags)))))
1585276180283:(make-filter-func my-filter)
1585276193188:(def my-func *1)
1585276197636:my-filter
1585276209662:(my-func tags)
1585276211831:my-func
1585276213722:tags
1585276222222:(filter my-func tags)
1585276242890:my-card
1585276244326:card
1585276259600:(filter my-func card)
1585276265245:(filter my-func [card])
1585276305762:(def card2                         {:name "capital"\n                         :id 8\n                         :tags [{:name "building tag" :value "city"}\n                                {:name "building tag" :value "building"}\n                                {:name "type" :value "automated"}]\n                         :cost 26})
1585276313326:(filter my-func [card2])
1585276319591:(filter my-func [card \n                 card2])
1585320635928:(def filter1 {:category {:tag "type", :value "automated"}})
1585320644845:(def filter2 {:category {:tag "building tag", :value "building"}})
1585320650898:(def filters [filter1 filter2])
1585320666849:(defn make-filter-fn [{:keys [category]}]\n  (cond\n    category (let [{tag :tag cat-value :value} category]\n               (fn [{tags :tags}]\n                 (some (fn [{name :name tag-value :value}]\n                         (and (= name tag) (= cat-value tag-value)))\n                       tags)))))
1585320682607:(map make-filter-fn filters)
1585320697357:(def filter-fns *1)
1585321033416:(def big-fn (comp filter-fns))
1585321058385:(def cards [{:name "colonizer training camp"\n                         :id 1\n                         :tags [{:name "building tag" :value "jove"}\n                                {:name "building tag" :value "building"}\n                                {:name "type" :value "automated"}\n                                {:name "vps" :value 2}]\n                         :cost 8}\n                        {:name "asteroid mining consortium"\n                         :id 2\n                         :tags [{:name "building tag" :value "jove"}\n                                {:name "vps" :value 1}\n                                {:name "type" :value "automated"}]\n                         :cost 13}\n                        {:name "deep well heating"\n                         :id 3\n                         :tags [{:name "building tag" :value "power"}\n                                {:name "building tag" :value "building"}\n                                {:name "type" :value "automated"}]\n                         :cost 13}\n                        {:name "cloud seeding"\n                         :id 4\n                         :tags [{:name "type" :value "automated"}]\n                         :cost 11}\n                        {:name "search for life"\n                         :id 5\n                         :tags [{:name "building tag" :value "science"}\n                                {:name "type" :value "active"}\n                                {:name "action" :value true}]\n                         :cost 3}\n                        {:name "inventors guild"\n                         :id 6\n                         :tags [{:name "building tag" :value "science"}\n                                {:name "action" :value "true"}\n                                {:name "type" :value "active"}]\n                         :cost 9}\n                        {:name "martian rails"\n                         :id 7\n                         :tags [{:name "building tag" :value "building"}\n                                {:name "action" :value "true"}\n                                {:name "type" :value "active"}]\n                         :cost 13}\n                        {:name "capital"\n                         :id 8\n                         :tags [{:name "building tag" :value "city"}\n                                {:name "building tag" :value "building"}\n                                {:name "type" :value "automated"}]\n                         :cost 26}\n                        {:name "asteroid"\n                         :id 9\n                         :tags [{:name "building tag" :value "event"}\n                                {:name "building tag" :value "space"}\n                                {:name "type" :value "event"}]\n                         :cost 14}\n                        {:name "comet"\n                         :id 10\n                         :tags [{:name "building tag" :value "event"}\n                                {:name "building tag" :value "space"}\n                                {:name "type" :value "event"}]\n                         :cost 21}\n                        {:name "big asteroid"\n                         :id 11\n                         :tags [{:name "building tag" :value "event"}\n                                {:name "building tag" :value "space"}\n                                {:name "type" :value "event"}]\n                         :cost 27}\n                        {:name "water import from europa"\n                         :id 12\n                         :tags [{:name "building tag" :value "jove"}\n                                {:name "type" :value "active"}\n                                {:name "action" :value true}\n                                {:name "vps" :value "*"}]\n                         :cost 27}\n                        {:name\n                         "release of inert gases"\n                         :id 36\n                         :tags [{:name "building tag" :value "event"}\n                                {:name "raises TR" :value 2}\n                                {:name "type" :value "event"}]\n                         :cost 17}])
1585321064760:(filter big-fn cards)
1585321074773:big-fn
1585321082963:(comp filters)
1585321105135:(filter-fns)
1585321108712:filter-fns
1585321114052:(comp filter-fns)
1585321259926:(reduce comp filter-fns)
1585321284091:(def big-fn *1)
1585321290914:(filter big-fn cards)
1585321385585:(def filter-fn1 (make-filter-fn filter1))
1585321392645:(def filter-fn2\n  (make-filter-fn filter2))
1585321403524:(def big-fn (comp filter-fn1 filter-fn2))
1585321412465:(filter big-fn cards)
1585321553985:(defn make-filter-fn [{:keys [category]}]\n  (prn "make-filter-fn")\n  (prn category)\n  (cond\n    category (let [{tag :tag cat-value :value} category]\n               (fn [{tags :tags}]\n                 (prn "inner")\n                 (prn tag " " cat-value)\n                 (some (fn [{name :name tag-value :value}]\n                         (and (= name tag) (= cat-value tag-value)))\n                       tags)))))
1585321562686:(make-filter-fn filter1)
1585321568823:(def filter-fn1 *1)
1585321579500:(def filter-fn2 (make-filter-fn filter2))
1585321592809:(filter filter-fn1 cards)
1585321603976:(filter filter-fn2\n        cards)
1585321623689:(comp big-filter-fn filter-fn1 filter-fn2)
1585321631917:(comp \n filter-fn1 filter-fn2)
1585321652888:(filter (comp filter-fn1 filter-fn2) cards)
1585321775008:(comp + str)
1585321782146:(def my-comp *1)
1585321795932:(my-comp "8" "8" "8")
1585321934478:(filter filter-fn-1 (filter filter-fn-2 cards))
1585321953801:(filter filter-fn1 (filter filter-fn2 cards))
1585322220736:(juxt filter-fn1 filter-fn2)
1585322226491:(def big-fn *1)
1585322233942:(filter big-fn cards)
1585322447897:(filter filter-fn1 cards)
1585322455343:(filter filter-fn2 cards)
1585322464929:(filter filter-fn1 (filter filter-fn2 cards))
1585322978608:(every-pred filter-fn1 filter-fn2)
1585322983086:(def big-fn *1)
1585322989038:(filter big-fn cards)
1585323030024:filter-fns
1585323037940:(apply every-pred filter-fns)
1585323046135:(def big-fn2 *1)
1585323053999:(filter big-fn2 cards)
1585323277987:(every-pred ())
1585323289374:(filter (apply every-pred ()) cards)
1585323298398:(filter (apply every-pred '()) cards)
1585323306761:(filter (apply every-pred '(filter-fn1)) cards)
1585323315943:(filter (apply every-pred '(filter-fn1 filter-fn2)) cards)
1585323383229:(filter (apply every-pred (list filter-fn1)) cards)
1585323452221:(filter (apply every-pred (apply make-filter-fn filters)) cards)
1585323462089:filers
1585323465396:filters
1585323472276:(apply make-filter-fn filters)
1585323500249:(map make-filter-fn filters)
1585323513139:(filter (apply every-pred (map make-filter-fn filters)) cards)
